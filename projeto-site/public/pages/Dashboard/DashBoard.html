<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="../../css/Dashboard_menu.css">
    <link rel="stylesheet" href="../../css/Dashboard.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">
    <link rel="icon" href="../../css/img/favicon.ico">
    <style>
        canvas {
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }
    </style>
    <style type="text/css">
        /* Chart.js */
        @keyframes chartjs-render-animation {
            from {
                opacity: .99
            }

            to {
                opacity: 1
            }
        }

        .chartjs-render-monitor {
            animation: chartjs-render-animation 1ms
        }

        .chartjs-size-monitor,
        .chartjs-size-monitor-expand,
        .chartjs-size-monitor-shrink {
            position: absolute;
            direction: ltr;
            left: 0;
            top: 0;
            right: 0;
            bottom: 0;
            overflow: hidden;
            pointer-events: none;
            visibility: hidden;
            z-index: -1
        }

        .chartjs-size-monitor-expand>div {
            position: absolute;
            width: 1000000px;
            height: 1000000px;
            left: 0;
            top: 0
        }

        .chartjs-size-monitor-shrink>div {
            position: absolute;
            width: 200%;
            height: 200%;
            left: 0;
            top: 0
        }
    </style>
</head>

<body>

    <!-- Menu -->

    <input type="checkbox" id="check">
    <header>
        <label for="check">
            <i class="fas fa-bars" id="sidebar_btn"></i>
        </label>
        <center>
            <div class="left_area">
                <h3>Tech<span>Care</span></h3>
            </div>
        </center>
        <div class="right_area">
            <a href="../../index.html" class="logout_btn">Logout</a>
        </div>
    </header>

    <div class="sidebar">
        <center>
            <img src="../../css/img/user.png" class="profile_image" alt="">
            <h4>Usuário</h4>
        </center>
        <a class="active" href="#"><i class="fa fa-desktop" aria-hidden="true"></i><span>Dashboard</span></a>
        <a href="cadastro.html"><i class="fa fa-user-plus" aria-hidden="true"></i><span>Cadastro</span></a>
        <a href="graficos.html"><i class="fa fa-bar-chart" aria-hidden="true"></i><span>Gráficos</span></a>
        <a href="Suporte.html"><i class="fa fa-question-circle" aria-hidden="true"></i><span>Suporte</span></a>
    </div>

    <!-- Conteúdo -->

    <div class="content"></div>
    <div class="alertas">

        <div class="card-1">
            <h3>Alas estáveis</h3>
            <br>
            <b id="qtd_alas_ok"></b>
        </div>
        <div class="card-2">
            <h3>Alas instáveis</h3>
            <br>
            <b id="qtd_alas_interm"></b>
        </div>
        <div class="card-3">
            <h3>Alas críticas</h3>
            <br>
            <b id="qtd_alas_crt"></b>
        </div>

    </div>
    <div class="graficos">
        <div class="alas">
            <b id="filtro_title">Filtro:</b>
            <select onchange="escolher_ala()" id="selecionar_alas">
                <option class="option_container" value="0">Mostrar tudo</option>
                <option class="option_container" value="1">Alas estáveis</option>
                <option class="option_container" value="2">Alas instáveis</option>
                <option class="option_container" value="3">Alas críticas</option>
            </select>
            <span id="title_alas">Alas</span>
            <span id="alas">Quantidade de alas: <b id="qtd_alas"></b></span>
            <div id="campo_alas" class="quadro">
            </div>
        </div>
    </div>



</body>

</html>

<script>

    // Parâmetros

    let maxalas = 42;
    let temp = 0;
    let umid = 0;

    // Gerar quantidade de alas

    let vr_alas_ok = 0;
    let vr_alas_interm = 0;
    let vr_alas_criticas = 0;

    // Criando uma automação para inserir alas

    for (let contador = 0; contador < maxalas; contador++) {
        temp = parseInt(Math.random() * 35 + 1);
        umid = parseInt(Math.random() * 100 + 1);

        if (temp >= 18 && temp <= 30 || umid >= 50 && umid <= 60) {
            campo_alas.innerHTML += `<div class="alas_ok" id="ala_tp1">Ala ${++vr_alas_ok}</div>`;
        } else if (temp >= 15 && temp <= 33 || umid >= 30 && umid <= 80) {
            campo_alas.innerHTML += `<div class="alas_interms" id="ala_tp2">Ala ${++vr_alas_interm}</div>`;
        } else {
            campo_alas.innerHTML += `<div class="alas_crits" id="ala_tp3">Ala ${++vr_alas_criticas}</div>`;
        }
    }

    // Inserindo os valores dentro do HTML
    
    let alas_totais = vr_alas_ok + vr_alas_interm + vr_alas_criticas;
    qtd_alas.innerHTML = alas_totais;
    qtd_alas_ok.innerHTML = vr_alas_ok;
    qtd_alas_interm.innerHTML = vr_alas_interm;
    qtd_alas_crt.innerHTML = vr_alas_criticas;

    // Filtro de exibição

    function escolher_ala() {
        var escolha = selecionar_alas.value;

        if (escolha == 0) {
            document.getElementById('ala_tp1').style.display = 'block';
            document.getElementById('ala_tp2').style.display = 'block';
            document.getElementById('ala_tp3').style.display = 'block';
        } else if (escolha == 1) {
            document.getElementById('ala_tp1').style.display = 'block';
            document.getElementById('ala_tp2').style.display = 'none';
            document.getElementById('ala_tp3').style.display = 'none';
        } else if (escolha == 2) {
            document.getElementById('ala_tp1').style.display = 'none';
            document.getElementById('ala_tp2').style.display = 'block';
            document.getElementById('ala_tp3').style.display = 'none';
        } else {
            document.getElementById('ala_tp1').style.display = 'none';
            document.getElementById('ala_tp2').style.display = 'none';
            document.getElementById('ala_tp3').style.display = 'block';
        }
    }


</script>